(()=>{"use strict";function N(s){return" \r\n\t".indexOf(s)>=0}const y=["[","]","{","}"],w=s=>s.replace(/(\{|\}|\[|\]|("[^"]+":))(?=(?:(?:[^"]*"){2})*[^"]*$)/g,t=>y.includes(t)?`<span class="text-[#F2CAB8]">${t}</span>`:`<span class="text-[#4E9590]">${(s=>s.slice(1,-2))(t)}</span>:`);addEventListener("message",({data:{file:s,chunkSizeInBytes:n}})=>{const t=new FileReader;t.readAsText(s.slice(0,n)),t.onload=u=>{const b=function v(s){for(var u,o,b,n=["topLevel"],t=0,r=function(a){return n.push(a)},c=function(a){return n[n.length-1]=a},f=function(a){null==u&&(u=t,o=n.length,b=a)},l=function(a){a===b&&(u=void 0,o=void 0,b=void 0)},i=function(){return n.pop()},k=function(){return t--},p=function(a){if("0"<=a&&a<="9")r("number");else switch(a){case'"':return void r("string");case"-":return void r("numberNeedsDigit");case"t":return void r("true");case"f":return void r("false");case"n":return void r("null");case"[":return void r("arrayNeedsValue");case"{":return void r("objectNeedsKey")}},x=s.length;t<x;t++){var e=s[t];switch(n[n.length-1]){case"topLevel":p(e);break;case"string":switch(e){case'"':i();break;case"\\":f("stringEscape"),r("stringEscaped")}break;case"stringEscaped":"u"===e?r("stringUnicode"):(l("stringEscape"),i());break;case"stringUnicode":t-s.lastIndexOf("u",t)==4&&(l("stringEscape"),i());break;case"number":"."===e?c("numberNeedsDigit"):"e"===e||"E"===e?c("numberNeedsExponent"):(e<"0"||e>"9")&&(k(),i());break;case"numberNeedsDigit":c("number");break;case"numberNeedsExponent":c("+"===e||"-"===e?"numberNeedsDigit":"number");break;case"true":case"false":case"null":(e<"a"||e>"z")&&(k(),i());break;case"arrayNeedsValue":"]"===e?i():N(e)||(l("collectionItem"),c("arrayNeedsComma"),p(e));break;case"arrayNeedsComma":"]"===e?i():","===e&&(f("collectionItem"),c("arrayNeedsValue"));break;case"objectNeedsKey":"}"===e?i():'"'===e&&(f("collectionItem"),c("objectNeedsColon"),r("string"));break;case"objectNeedsColon":":"===e&&c("objectNeedsValue");break;case"objectNeedsValue":N(e)||(l("collectionItem"),c("objectNeedsComma"),p(e));break;case"objectNeedsComma":"}"===e?i():","===e&&(f("collectionItem"),c("objectNeedsKey"))}}null!=o&&(n.length=o);for(var d=[null!=u?s.slice(0,u):s],g=function(a){return d.push(a.slice(s.length-s.lastIndexOf(a[0])))},m=n.length-1;m>=0;m--)switch(n[m]){case"string":d.push('"');break;case"numberNeedsDigit":case"numberNeedsExponent":d.push("0");break;case"true":g("true");break;case"false":g("false");break;case"null":g("null");break;case"arrayNeedsValue":case"arrayNeedsComma":d.push("]");break;case"objectNeedsKey":case"objectNeedsColon":case"objectNeedsValue":case"objectNeedsComma":d.push("}")}return d.join("")}(u.target.result),r=JSON.parse(b),c=JSON.stringify(r,null,3),l={status:"success",rows:w(c).split("\n")};postMessage(l)},t.onerror=()=>{postMessage({status:"error",rows:[]})}})})();